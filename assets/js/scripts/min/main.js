/*! robertson-lodges 2018-05-24 */
function onYouTubeIframeAPIReady(){var a="ytplayer",b=$("#"+a),c=b.data("id"),d=parseInt(b.data("autoplay"));$(".play-video-btn");if(b&&c){new YT.Player(a,{videoId:c,playerVars:{autoplay:d,controls:!1,rel:!1,showinfo:!1,modestbranding:!0,loop:!0,fs:!1,cc_load_policy:!0,iv_load_policy:3,autohide:!1,playlist:c},events:{onReady:onPlayerReady}})}}function onPlayerReady(a){var b=$(".banner--has-overlay"),c=$("#ytplayer"),d=parseInt(c.data("autoplay")),e=$(".play-video-btn"),f=b.width(),g=b.height();console.log("Player ready"),a.target.mute(),1==d&&(console.log("Play video"),a.target.playVideo()),e.on("click",function(){a.target.playVideo(),$(".play-video-btn").hide()}),newFrameWidth=1.77*g,newFrameWidth<f?(newFrameWidth=f,newFrameHeight=.565*f):newFrameHeight=g,$(".banner__video").css({height:newFrameHeight,width:newFrameWidth})}!function(a,b,c){function d(){var a="mobile__btn--active",d="header__nav--active",e=(window.location.hash,"menu-active"),f="sub-nav-trigger",g=".header__nav-link, .header__nav-sub-menu-link",h=function(){c(g);c(window).width()<992?c(g).addClass(f):c(g).hasClass(f)&&c("."+f).removeClass(f)};h(),c(window).on("resize",function(){h()}),c(b).on("click",".mobile__btn",function(b){b.preventDefault();var e=c(this),f=e.attr("href");e.hasClass(a)?(c("body").removeClass("no-scroll"),e.removeClass(a),c(f).removeClass(d)):(c("body").addClass("no-scroll"),e.addClass(a),c(f).addClass(d))}).on("click","."+f,function(a){a.preventDefault();var b=c(this);console.log("test"),b.parents("li").hasClass(e)?b.parents("li").removeClass(e):b.parents("li").addClass(e)})}function e(){c(b).on("click",".toggle-elm",function(a){a.preventDefault();var b=c(this),d=b.attr("href"),e=b.attr("data-active-block");b.toggleClass(e),c(d).toggleClass("hidden")})}function f(a,d){d||(d="href"),c(b).on("click",a,function(a){a.preventDefault();var b=c(this),e=b.attr(d);if("#"===e)c("html, body").delay(150).animate({scrollTop:0},{duration:300,easing:"swing"});else{var f=c(e);if(f.length>0){var g=f.offset().top-150;c("html, body").delay(150).animate({scrollTop:g},{duration:300,easing:"swing"})}}})}function g(a){if("string"!=typeof a)return console.error("selector is required for initPageGallery"),!1;var d=c(".banner-gallery__slide"),e=[];d.each(function(a,b){e.push({href:c(b).attr("href")})}),c(b).on("click",a,function(a){a.preventDefault(),c.swipebox(e)})}a.displayHiddenElement=function(a,b,d){c(a).on(b,function(){c(d).show()})},a.initSlickSlideshow=function(a,b,d){var e={dots:!1,arrows:!0,autoplay:!0,infinite:!0,speed:500,autoplaySpeed:d,fade:!0,cssEase:"linear",prevArrow:'<a href="#" class="slider__nav slider__nav--prev"><i class="fa fa-angle-left"></i></a>',nextArrow:'<a href="#" class="slider__nav slider__nav--next"><i class="fa fa-angle-right"></i></a>'};return b=c.extend(!0,e,b),c(a).slick(b)},a.initSlickCarousel=function(a,b){a||(a=".showcase__carousel");var d={dots:!1,arrows:!0,autoplay:!1,infinite:!0,speed:300,lazyLoad:"ondemand",prevArrow:'<a href="#" class="carousel__nav carousel__nav--prev"><i class="fa fa-angle-left"></i></a>',nextArrow:'<a href="#" class="carousel__nav carousel__nav--next"><i class="fa fa-angle-right"></i></a>',mobileFirst:!0,adaptiveHeight:!1,responsive:[{breakpoint:340,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:590,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:991,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:1}}]};return b=c.extend(!0,d,b),c(a).slick(b)},a.initDatepicker=function(a,b){if("string"!=typeof a)return console.error("selector is require for initDatepicker method"),!1;var d={format:"DD/MM/YYYY",minDate:new Date};b=c.extend(!0,d,b),c(a).each(function(a,d){b.field=d,c(d).attr("autocomplete","off"),new Pikaday(b)})},a.initSwipeBox=function(a,b){if("string"!=typeof a)return console.error("selector is required for initSwipeBox"),!1;var d={selector:a};b=c.extend(!0,d,b),c(a).swipebox(b)},a.initSlickSlider=function(a,b){a||(a=".gallery__carousel");var d={dots:!1,infinite:!0,speed:300,slidesToShow:1,slidesToScroll:1,prevArrow:'<div class="gallery__carousel__prev"><i class="fa fa-angle-left"></i></div>',nextArrow:'<div class="gallery__carousel__next"><i class="fa fa-angle-right"></i></div>',mobileFirst:!0,adaptiveHeight:!1,responsive:[{breakpoint:320,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:991,settings:{slidesToShow:1,slidesToScroll:1}}]};return b=c.extend(!0,d,b),c(a).slick(b)},a.initShuffle=function(a){var b=c(a);b.length&&(b.shuffle({group:"all",itemSelector:"figure",speed:450,delimeter:","}),c(".shuffle-trigger").on("click",function(a){a.preventDefault(),console.log(c(this).attr("data-group")),b.shuffle("shuffle",c(this).attr("data-group")),c(".shuffle-trigger").removeClass("active"),c(this).addClass("active")}),initSwipeBox(".filtered"))},a.initScrollToSection=function(a){c(a).click(function(a){a.preventDefault();var b=c(this).attr("href"),d=c(b).offset().top,e=parseInt(d)-120;c("html, body").animate({scrollTop:e},1500)})},a.initFolded=function(a,b){c(a).click(function(a){a.preventDefault();var d=c(this),e=c(b).is(":visible")?d.data("more"):d.data("less");d.closest("div").find(b).toggleClass("hide"),d.text(e)})},a.initStopScroll=function(a,b,d){var e=c(a);if(1==e.length){var f=c(window),g=c(b).position(),h=g.top-500;f.scroll(function(a){f.scrollTop()>h?e.css({position:"absolute",top:h}):e.css({position:"fixed",top:d})})}},a.initNewsletterSignup=function(a){c(a).length&&c(".newsletter--input").keypress(function(a){if(13==a.which){var b=c.trim(c(".newsletter--input").val());return b&&"TYPE YOUR EMAIL HERE"!==b?/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(b)?(c(".newsletter-status").show(),c.post("/requests/service","action=sign-up&email="+b,function(a){return a.msg&&(c(".form__input-grp").hide(),c(".form--newsletter__msg").html(a.msg),c(".form--newsletter__msg").fadeIn(400)),a.isValid&&setTimeout(function(){c(".newsletter--input").val("")},5e3),c(".newsletter-status").hide(),!1},"json")):(c(".form--newsletter__msg").html("Your email is not valid."),c(".form--newsletter__msg").fadeIn(400),c(".newsletter--input").addClass("error")):(c(".form--newsletter__msg").html("Your email is empty."),c(".form--newsletter__msg").fadeIn(400),c(".newsletter--input").addClass("error")),!1}})},a.initHeaderActivate=function(){1==c(".general-page").length&&c(".general-page .header").addClass("header--light header--fadein"),1==c(".home-page").length&&c(window).scrollTop()>100&&c(".home-page .header").addClass("header--light header--fadein")},a.headerScroll=function(){c(window).scroll(function(){c(".home-page").length&&(c(window).width()<991?c(".home-page .header").addClass("header--light animate--fade"):c(this).scrollTop()>100?c(".home-page .header").addClass("header--light animate--fade"):c(".home-page .header").removeClass("header--light animate--fade"))})},a.initSlickReview=function(a,b){var d={dots:!0,arrows:!1,autoplay:!0,infinite:!0,speed:200,fade:!0,easing:"swing",pauseOnHover:!0,prevArrow:!1,lazyLoad:"progressive",nextArrow:!1};return b=c.extend(!0,d,b),c(a).slick(b)},a.quickLinksHomeHover=function(){c(".expand-ql__item").bind("mouseover",function(){c(".expand-ql__item").addClass("expand-ql__darken"),c(this).removeClass("expand-ql__darken")}),c(".expand-ql__item").bind("mouseleave",function(){c(".expand-ql__item").removeClass("expand-ql__darken")})},a.quicklinkAnimationRows=function(a){var b=c(window),d=c(a),e=(d.length,b.scrollTop(),b.height());d.each(function(a,b){a++;var d=c(b),f=d.offset().top-e/1.5;c(window).scrollTop()>f&&d.addClass("active")})},a.app={},a.app.init=function(){var a=jsVars.globals.slideshowSpeed;d(),e(),initHeaderActivate(),headerScroll(),quickLinksHomeHover(),quicklinkAnimationRows(".experence-desktop"),initNewsletterSignup(".form--newsletter"),initSlickSlideshow(".banner__slider__inner","",a),initSlickCarousel(".showcase__carousel"),initSwipeBox(".showcase__carousel"),initSlickReview(".review-item--slick"),f(".footer__lower__scroll-btn"),initSwipeBox(".showcase__item"),g(".banner__gallery--btn"),initDatepicker(".has-datepicker"),initSlickSlider(".gallery__carousel"),initShuffle("#shuffle"),initScrollToSection(".banner__scroll-to"),initFolded(".folded__link",".folded__content"),initStopScroll(".sidebar",".bottom__content",70),displayHiddenElement(".banner__photo-info__icon","click",".banner__photo-info__text"),initGoogleMap("map-canvas",jsVars.map),c(window).on("scroll",function(){quicklinkAnimationRows(".experence-desktop")})}}(window,document,jQuery);var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag),function(a,b,c){function d(a,b){var c=document.getElementById(a);if(!c||!b)return console.warn("missing parameters for google maps"),!1;if(c){var d=parseFloat(b.lat),h=parseFloat(b.lng),i=parseInt(b.zoom);i||(i=15);var j=new google.maps.LatLng(d,h),k={zoom:i,center:j,scrollwheel:!1,draggable:!0,scalecontrol:!0,streetViewControl:!0,styles:[{featureType:"all",elementType:"all",stylers:[{hue:"#ffaa00"},{saturation:"-33"},{lightness:"10"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]}],mapTypeControl:!0};e=new google.maps.Map(c,k),marker=new google.maps.Marker({position:j,map:e,icon:g,title:b.title}),b.infoWindowContent&&(f&&f.close(),f=new google.maps.InfoWindow({content:b.infoWindowContent}),marker.addListener("click",function(){f.open(e,marker)}))}}var e,f,g="/graphics/map-marker.png";a.initGoogleMap=function(a,b){d(a,b)}}(window,document,jQuery);